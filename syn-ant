#!/usr/bin/env perl
use strict;
use warnings;

use WordNet::QueryData;

my $wn = WordNet::QueryData->new(
    noload => 1,
    dir    => '/usr/local/Cellar/wordnet/3.1/dict/',
);

my $word  = shift || 'small';
my $pos   = shift || 'a';
my $sense = shift || 1;

$word .= "#$pos#$sense";

my %query = (
  antonyms   => [ $wn->queryWord($word, 'ants') ],
  cause      => [ $wn->querySense($word, 'caus') ],
  entailment => [ $wn->querySense($word, 'enta') ],
  holonyms   => [ $wn->querySense($word, 'holo') ],
  hypernyms  => [ $wn->querySense($word, 'hypes') ],
  hyponyms   => [ $wn->querySense($word, 'hypos') ],
  meronyms   => [ $wn->querySense($word, 'mero') ],
  similar    => [ $wn->querySense($word, 'sim') ],
  synsets    => [ $wn->querySense($word, 'syns') ],
);

for my $key (sort keys %query) {
    print ucfirst $key, ":\n\t", join(', ', $query{$key}->@*), "\n"
        if $query{$key}->@*;
}
